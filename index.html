<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- å¾®ä¿¡X5å†…æ ¸ä¸“å±é…ç½® -->
    <meta name="x5-orientation" content="auto">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="none">
    <!-- ä¼˜åŒ–çš„viewporté…ç½®ï¼Œæ·»åŠ minimum-scale=1.0 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>åœ£è¯ç¥ç¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            overflow: hidden;
            height: 100vh;
            position: relative;
            width: 100vw;
            font-size: 16px;
        }
        
        /* ç«–å±æç¤º - ä½¿ç”¨JavaScriptæ§åˆ¶æ˜¾ç¤º/éšè— */
        .portrait-prompt {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(255, 154, 158, 0.95);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            z-index: 9999;
            opacity: 1;
            pointer-events: all;
            transition: opacity 0.3s ease-out;
        }
        
        /* æ—‹è½¬å›¾æ ‡ */
        .rotate-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            animation: rotate 2s ease-in-out infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(180deg); }
        }
        
        /* å“åº”å¼å­—ä½“è°ƒæ•´ */
        @media (max-width: 768px) {
            .title {
                font-size: 8em !important;
            }
            
            .click-prompt {
                font-size: 1.5em !important;
            }
            
            .final-prompt {
                font-size: 2em !important;
            }
        }
        
        @media (max-width: 480px) {
            .title {
                font-size: 6em !important;
            }
            
            .click-prompt {
                font-size: 1.2em !important;
            }
            
            .final-prompt {
                font-size: 1.5em !important;
            }
        }
        
        /* é›ªèŠ±èƒŒæ™¯ */
        .snowflake {
            position: absolute;
            color: white;
            font-size: 1em;
            animation: fall linear infinite;
            user-select: none;
        }
        
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
        
        /* å¼¹çª—æ ·å¼ */
        .wish-popup {
            position: absolute;
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(255, 105, 180, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.8);
            animation: popIn 0.5s ease-out, float 3s ease-in-out infinite;
            cursor: pointer;
            z-index: 1000;
            max-width: 250px;
            text-align: center;
            font-weight: bold;
        }
        
        @keyframes popIn {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        /* å…³é—­æŒ‰é’® */
        .close-btn {
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 18px;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* æ ‡é¢˜ - ä½¿ç”¨è‰ºæœ¯å­—ä½“ï¼Œå­—ä½“è°ƒå¤§3å€ */
        .title {
            position: absolute;
            top: 40%; /* ä¸Šç§»ï¼Œä¸ºä¸‹æ–¹ç‚¹å‡»æç¤ºç•™å‡ºç©ºé—´ */
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffffff; /* æé«˜å­—ä½“äº®åº¦ï¼Œä½¿ç”¨çº¯ç™½è‰² */
            font-size: 12em;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 219, 232, 0.8); /* ä¿ç•™å‘¨å›´å…‰æ•ˆ */
            z-index: 10;
            animation: softGlow 2s ease-in-out infinite alternate;
            font-family: 'Brush Script MT', cursive, serif;
            white-space: nowrap;
            overflow: hidden;
            /* å½»åº•æ¶ˆé™¤è¾¹æ¡† */
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            background: transparent !important;
        }
        
        /* ç‚¹å‡»æç¤ºæ ·å¼ */
        .click-prompt {
            position: absolute;
            top: 55%; /* å¾€ä¸Šç§» */
            left: 50%;
            transform: translate(-50%, -50%) scale(0); /* åˆå§‹ç¼©æ”¾ä¸º0ï¼Œéšè—çŠ¶æ€ */
            color: #ff69b4; /* äº®ç²‰è‰² */
            font-size: 2em; /* å¤§å°ç¼©å°ä¸€å€ */
            text-align: center;
            z-index: 15;
            font-family: 'Cookie', cursive, 'Dancing Script', serif; /* æ›´æ¢ä¸ºæ›´è‰ºæœ¯çš„Cookieå­—ä½“ */
            cursor: pointer;
            user-select: none;
            /* ç§»é™¤é»˜è®¤åŠ¨ç”»ï¼Œåªåœ¨JavaScriptä¸­åŠ¨æ€æ·»åŠ  */
        }
        
        /* æ–°æç¤ºæ–‡å­—æ ·å¼ */
        .new-prompt {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff69b4;
            font-size: 6em;
            text-align: center;
            z-index: 20;
            font-family: 'Brush Script MT', cursive, serif;
            opacity: 0;
            pointer-events: none;
        }
        
        /* æ¨¡ç³Šæ¶ˆå¤±åŠ¨ç”» */
        @keyframes blurDisappear {
            from {
                opacity: 1;
                filter: blur(0px);
            }
            to {
                opacity: 0;
                filter: blur(5px);
            }
        }
        
        /* å‘ä¸Šç§»å‡ºå±å¹•åŠ¨ç”» */
        @keyframes moveUpOut {
            from {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
            to {
                opacity: 0;
                transform: translate(-50%, -150%);
            }
        }
        
        /* æ–°æ–‡å­—å‡ºç°åŠ¨ç”» */
        @keyframes newTextAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        /* åœ£è¯è¢œæ ·å¼ */
        .christmas-sock {
            position: absolute;
            width: 150px;
            height: 200px;
            background-image: url('https://i.imgur.com/IEJ4K07.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 30;
            cursor: pointer;
            opacity: 0;
        }
        
        /* ç´«è‰²å¼¹çª—æ ·å¼ */
        .purple-popup {
            position: absolute;
            background: linear-gradient(135deg, #9370db, #8a2be2);
            color: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(147, 112, 219, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.8);
            animation: popIn 0.5s ease-out, float 3s ease-in-out infinite;
            cursor: pointer;
            z-index: 1000;
            max-width: 250px;
            text-align: center;
            font-weight: bold;
        }
        
        /* æœ€ç»ˆæç¤ºæ–‡å­—æ ·å¼ */
        .final-prompt {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff69b4;
            font-size: 4em;
            text-align: center;
            z-index: 40;
            font-family: 'Brush Script MT', cursive, serif;
            opacity: 0;
            pointer-events: none;
        }
        
        /* æœ€ç»ˆæç¤ºæ–‡å­—å­—ç¬¦æ ·å¼ */
        .final-prompt-char {
            display: inline-block;
            transition: opacity 0.3s ease-out;
            position: relative;
        }
        
        /* é©¯é¹¿æ ·å¼ */
        .reindeer {
            position: fixed;
            width: 600px;
            height: 400px;
            background-image: url('https://i.imgur.com/KqcWzK9.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 100;
            top: 50%;
            transform: translateY(-50%);
            right: -600px;
            opacity: 0;
            /* å°è¯•å¤„ç†å›¾ç‰‡èƒŒæ™¯ï¼Œå¢å¼ºä¸é¡µé¢èƒŒæ™¯çš„èåˆ */
            mix-blend-mode: multiply;
            filter: brightness(1.1) contrast(1.1);
        }
        
        /* é©¯é¹¿åŠ¨ç”» */
        @keyframes reindeerMove {
            0% {
                opacity: 1;
                right: -300px;
            }
            100% {
                opacity: 1;
                right: 100%;
            }
        }
        
        /* åœ£è¯è¢œå‡ºç°åŠ¨ç”» */
        @keyframes sockAppear {
            from {
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* åœ£è¯è¢œæ¶ˆå¤±åŠ¨ç”» */
        @keyframes sockDisappear {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(0.5);
            }
        }
        
        /* ç‚¹å‡»æç¤ºå‡ºç°åŠ¨ç”» */
        @keyframes promptAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        /* ç‚¹å‡»æç¤ºå¼¹è·³åŠ¨ç”» */
        @keyframes bounce {
            from {
                transform: translate(-50%, -50%) scale(1);
            }
            to {
                transform: translate(-50%, -50%) scale(1.1);
            }
        }
        
        /* é€å­—å‡ºç°åŠ¨ç”»çš„å­—ç¬¦æ ·å¼ */
        .title-char {
            opacity: 0;
            animation: fadeInLeft 0.5s ease-out forwards;
            display: inline-block;
            /* ç¡®ä¿å­—ç¬¦æ²¡æœ‰è¾¹æ¡† */
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
        }
        
        /* ä»å·¦åˆ°å³æ·¡å…¥åŠ¨ç”» */
        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* æŸ”å’Œçš„å‘å…‰æ•ˆæœï¼Œä¿ç•™å‘¨å›´å…‰æ•ˆ */
        @keyframes softGlow {
            from {
                text-shadow: 0 0 15px rgba(255, 219, 232, 0.8), 0 0 25px rgba(255, 219, 232, 0.5);
            }
            to {
                text-shadow: 0 0 25px rgba(255, 219, 232, 1), 0 0 35px rgba(255, 219, 232, 0.8);
            }
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #ff69b4, 0 0 40px #ff69b4, 0 0 50px #ff69b4, 0 0 60px #ff69b4, 0 0 70px #ff69b4; }
            to { text-shadow: 0 0 20px #fff, 0 0 30px #ff1493, 0 0 40px #ff1493, 0 0 50px #ff1493, 0 0 60px #ff1493, 0 0 70px #ff1493, 0 0 80px #ff1493; }
        }
        
        /* è£…é¥°å…ƒç´  */
        .decoration {
            position: absolute;
            font-size: 2em;
            animation: twinkle 2s ease-in-out infinite alternate;
        }
        
        @keyframes twinkle {
            from { opacity: 0.5; transform: scale(1); }
            to { opacity: 1; transform: scale(1.2); }
        }
    </style>
</head>
<body>
    <!-- ç«–å±æç¤º -->
    <div class="portrait-prompt" id="portrait-prompt">
        <div class="rotate-icon">ğŸ”„</div>
        <div>å»ºè®®æ¨ªå±æŸ¥çœ‹ä»¥è·å¾—æœ€ä½³ä½“éªŒ</div>
    </div>
    
    <h1 class="title" id="christmas-title"> Merry Christmasï¼</h1>
    <div class="click-prompt" id="click-prompt">ClickğŸ‘†</div>
    <div class="new-prompt" id="new-prompt">åœ£è¯å¿«ä¹è¦æ¥å’¯ï¼ŒæŠ“ä½å®ƒï¼ï¼ï¼</div>
    <div class="christmas-sock" id="christmas-sock"></div>
    <div class="final-prompt" id="final-prompt">ä½ çš„åœ£è¯å¿«ä¹å·²æ‰“åŒ…ï¼Œéº‹é¹¿æ­£åœ¨æ´¾é€ ingâ€¦</div>
    <div class="reindeer" id="reindeer"></div>
    
    <script>
        // åœ£è¯ç¥ç¦è¯­å¥åˆ—è¡¨
        const wishes = [
            // æš–å¿ƒå…³å¿ƒæ¬¾
            "åœ£è¯å¿«ä¹å‘€ï½å¤©å†·è®°å¾—æ·»è¡£ï¼Œå¹³å®‰å¤œåƒç‚¹ç”œçš„ï¼Œæ–°çš„ä¸€å¹´ä¹Ÿè¦é¡ºé¡ºåˆ©åˆ©ï¼Œè¢«çˆ±åŒ…å›´ï½",
            "åœ£è¯åˆ°å•¦ï¼Œæ„¿ä½ æ°¸è¿œæœ‰çƒ­æ°”è…¾è…¾çš„ç”Ÿæ´»ï¼Œå¹³å®‰å¥åº·ï¼Œå¿«ä¹ä¸æ­¢åœ£è¯è¿™ä¸€å¤©ï½",
            
            // æç¬‘ç©æ¢—æ¬¾
            "åœ£è¯å¿«ä¹ï¼åœ£è¯è€äººè¯´ä½ ä»Šå¹´çš„æ„¿æœ›ä»–åŒ…äº†â€”â€”é™¤äº†æš´å¯Œï¼ˆä»–ä¹Ÿæ²¡è¿™èƒ½åŠ›ï¼‰",
            "å®ï¼ä½ çš„åœ£è¯å¥½å‹å·²ä¸Šçº¿ï¼Œç¤¼ç‰©è¯·ç›´æ¥ç ¸æˆ‘è„¸ä¸Šï¼Œè°¢è°¢åˆä½œï½",
            "åœ£è¯è€äººè¿·è·¯äº†ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ç»™ä½ å‡†å¤‡äº†é›¶é£Ÿå’Œå¿«ä¹ï¼Œå‡‘æ´»è¿‡ä¸ªèŠ‚å§ï½",
            
            // é£è¶£è°ƒä¾ƒæ¬¾
            "åœ£è¯å¿«ä¹ï½ä»Šå¹´çš„åœ£è¯æ ‘æ¯”å»å¹´é«˜ï¼Œä½ çš„é’±åŒ…æ˜¯ä¸æ˜¯ä¹Ÿè¯¥åŒæ­¥æ¶¨æ¶¨ï¼Ÿ",
            "åˆ«äººéƒ½ç­‰åœ£è¯ç¤¼ç‰©ï¼Œæˆ‘ç­‰ä½ çº¦æˆ‘å¹²é¥­â€”â€”æ¯•ç«Ÿå¹²é¥­æ‰æ˜¯æ­£ç»äº‹ï¼",
            "åœ£è¯é™å®šç¥ç¦ï¼šæ„¿ä½ ä¸è¢«çäº‹çƒ¦ï¼Œå¥¶èŒ¶å–ä¸å®Œï¼Œè¿½å‰§ä¸å¡æ®µï½",
            
            // æ–‡è‰ºæµªæ¼«æ¬¾
            "åäºŒæœˆçš„é£è£¹ç€åœ£è¯æ°”æ¯ï¼Œæ„¿æ˜Ÿå…‰ä¸ºä½ åŠ å†•ï¼Œæ¸©æš–ä¼´ä½ è¿‡å†¬ï¼Œåœ£è¯å¿«ä¹ï½",
            "æŠŠéº‹é¹¿çš„é“ƒé“›å£°ã€å£ç‚‰çš„ç«å…‰ï¼Œéƒ½æ‰è¿›ç¥ç¦é‡Œï¼šåœ£è¯å¿«ä¹ï¼Œå²å²å®‰æ¾œï½",
            "å†¬æœ‰æ¿æ —ï¼Œå¤æœ‰èŠ’æœï¼Œè€Œä½ å››å­£æœ‰æˆ‘ï½åœ£è¯å¿«ä¹ï¼Œæˆ‘çš„å¥½æœ‹å‹ï½",
            
            // æ²™é›•å¯çˆ±æ¬¾
            "åœ£è¯å¿«ä¹ï¼æˆ‘æ˜¯åœ£è¯è€äººæ´¾æ¥çš„å¿«ä¹å°ç²¾çµï¼Œä¸“é—¨å·ä½ çš„ä¸å¼€å¿ƒï½",
            "å®å®å½“å®å®å½“ï¼Œç©·çš„å“å®å½“ï½æ²¡å…³ç³»ï¼Œæœ‰æˆ‘é™ªä½ ä¸€èµ·å®å½“ï¼Œåœ£è¯å¿«ä¹ï¼",
            "åœ£è¯è€äººè¯´ä½ å¤ªå¯çˆ±ï¼Œå†³å®šæŠŠå…¨ä¸–ç•Œçš„ç”œéƒ½é€ç»™ä½ ï½åœ£è¯å¿«ä¹å‘€ï½",
            
            // ç®€çº¦çœŸæŒšæ¬¾
            "åœ£è¯å¿«ä¹ï¼Œæˆ‘çš„æœ‹å‹ï½å¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºæ„ï½",
            "åœ£è¯å®‰åº·ï¼Œæ„¿æˆ‘ä»¬å²å²å¸¸ç›¸è§ï¼Œå¹´å¹´çš†æ¬¢æ„‰ï½",
            
            // ææ€ªäº’æ€¼æ¬¾
            "åœ£è¯å¿«ä¹ï¼è™½ç„¶ä½ è¿˜æ˜¯é‚£ä¹ˆå‚»ï¼Œä½†æˆ‘è¿˜æ˜¯ç¥ä½ åƒå¥½å–å¥½ï¼Œåˆ«é•¿èƒ–ï¼ˆæ‰æ€ªï¼‰",
            "ä»Šå¹´åœ£è¯ä¸è®¸å·ï¼Œä¸è®¸å·å·åŠªåŠ›ï¼Œåªè®¸é™ªæˆ‘å¿«ä¹â€”â€”åœ£è¯å¿«ä¹ï¼",
            
            // ææ€ª/æ²™é›•æ¬¾ï¼ˆç›¸çˆ±ç›¸æ€ï¼‰
            "åœ£è¯è€äººè·Ÿæˆ‘è¯´ä»–ä»Šå¹´ä¸æ¥äº†ï¼Œå› ä¸ºä½ çš„æ„¿æœ›æ¸…å•å¤ªé•¿ï¼ŒæŠŠä»–çš„é›ªæ©‡å‹åäº†ã€‚ä½œä¸ºå¥½æœ‹å‹ï¼Œæˆ‘å†³å®šå‹‰ä¸ºå…¶éš¾é¡¶æ›¿ä»–â€”â€”ä½ å¯ä»¥æŠŠæƒ³è¯·æˆ‘åƒçš„é¤å…åå­—å‘ç»™æˆ‘äº†ã€‚",
            "åœ£è¯å¿«ä¹ï¼åœ¨è¿™ä¸ªå……æ»¡çˆ±çš„æ—¥å­é‡Œï¼Œæˆ‘ç¥ä½ ï¼šå¤´å‘èŒ‚å¯†å¦‚åœ£è¯æ ‘ï¼Œé“¶è¡Œå¡ä½™é¢é•¿è¿‡è¢œå­ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œåˆ«å†ç›¯ç€æ‰‹æœºçœ‹å¸…å“¥ç¾å¥³äº†ï¼Œçœ‹çœ‹æˆ‘è¿™ä¸ªæ´»ç”Ÿç”Ÿçš„ç»ä¸–å¥½é—ºèœœï¼",
            "å®å®å½“ï¼Œå®å®å½“ï¼Œç©·å¾—å“å®å½“ã€‚æ²¡äº‹ï¼Œæ—¢ç„¶å’±ä»¬éƒ½è¿™ä¹ˆç©·ï¼Œé‚£ä»Šå¹´çš„äº’é€ç¤¼ç‰©ç¯èŠ‚å°±æ”¹æˆâ€˜äº’é€é£å»â€™å§ï¼Œæˆ‘å…ˆæ¥ï¼šMuaï¼åœ£è¯å¿«ä¹ï¼",
            
            // æ¸©æš–/èµ°å¿ƒæ¬¾ï¼ˆé€‚åˆæ·±å¤œå‘æ¶ˆæ¯ï¼‰
            "åœ£è¯èŠ‚çš„æ„ä¹‰ä¸æ˜¯ç¤¼ç‰©ï¼Œè€Œæ˜¯é‚£äº›ä¸€ç›´éƒ½åœ¨çš„äººã€‚è°¢è°¢ä½ å¬äº†ä¸€æ•´å¹´æˆ‘çš„åºŸè¯ã€‚æ–°çš„ä¸€å¹´ï¼Œæ„¿ä½ é‚£äº›æ²¡è¯´å‡ºå£çš„æ„¿æœ›ï¼Œéƒ½èƒ½åœ¨ä¸ç»æ„é—´å®ç°ã€‚",
            "å¦‚æœåœ£è¯è€äººæ²¡ç»™ä½ ç¤¼ç‰©ï¼Œé‚£æ˜¯å› ä¸ºä½ å·²ç»æ˜¯æˆ‘çš„ç¤¼ç‰©äº†ã€‚å¤–é¢å¾ˆå†·ï¼Œè®°å¾—æŠŠæ‰‹å¡è¿›å…œé‡Œï¼ŒæŠŠå¿«ä¹å¡è¿›å¿ƒé‡Œã€‚åœ£è¯å¿«ä¹ï¼Œæˆ‘çš„è€é“ã€‚",
            "è¿™ä¸ªä¸–ç•Œå¶å°”è–„æƒ…ï¼Œä½†ä½ æ˜¯é‚£ä¸ªèƒ½è®©æˆ‘ç¬é—´æš–å’Œèµ·æ¥çš„å­˜åœ¨ã€‚æ„¿ä½ çš„å†¬æ—¥æœ‰æš–é˜³ï¼Œæ„¿ä½ çš„å¹³å®‰å¤œæœ‰ç«é”…ï¼Œæ„¿ä½ æ°¸è¿œæ˜¯é‚£ä¸ªæ— å¿§æ— è™‘çš„å°å­©ã€‚",
            
            // æ–‡è‰º/é«˜çº§æ„Ÿï¼ˆé€‚åˆå‘æœ‹å‹åœˆé…å›¾ï¼‰
            "æ‰€æœ‰çš„èŠ‚æ—¥éƒ½ä¸æ˜¯ä¸ºäº†ç¤¼ç‰©ï¼Œè€Œæ˜¯ä¸ºäº†æé†’æˆ‘ä»¬ä¸è¦å¿˜è®°çˆ±ä¸è¢«çˆ±ã€‚åœ¨åäºŒæœˆçš„æœ«å°¾ï¼Œæƒ³æŠŠè¿™ä¸€å¹´çš„æ¸©æŸ”å’Œå¥½è¿éƒ½æ‰“åŒ…å¯„ç»™ä½ ã€‚",
            "å°±åƒåœ£è¯æ ‘é¡¶éƒ¨çš„æ˜Ÿå…‰ï¼Œä½ ä¹Ÿæ˜¯æˆ‘å¹³æ·¡ç”Ÿæ´»é‡Œçš„é«˜å…‰æ—¶åˆ»ã€‚å²å²å¹³å®‰ï¼Œä¸ä»…ä»…åœ¨ä»Šæ™šï¼Œè€Œåœ¨æˆ‘ä»¬å¹¶è‚©èµ°è¿‡çš„æ¯ä¸€ä¸ªæ˜å¤©ã€‚",
            "å†¬å¤©æœ€æµªæ¼«çš„äº‹ï¼Œé™¤äº†åˆé›ªï¼Œå°±æ˜¯å’Œä½ åœ¨è·¯ç¯ä¸‹åˆ†äº«ä¸€è¢‹çƒ­æ°”è…¾è…¾çš„ç³–ç‚’æ —å­ã€‚åœ£è¯å¿«ä¹ï¼Œæˆ‘çš„â€˜å­£èŠ‚é™å®šâ€™å¥½æœ‹å‹ã€‚",
            
            // é£è¶£/åå¥—è·¯æ¬¾ï¼ˆæ‰“ç ´å¸¸è§„ï¼‰
            "ä»Šå¹´åœ£è¯æˆ‘ä¸è®¸æ„¿äº†ï¼Œå› ä¸ºæœ€å¥½çš„æœ‹å‹å·²ç»åœ¨èº«è¾¹äº†ã€‚ï¼ˆå¦‚æœä½ è§‰å¾—è‚‰éº»ï¼Œè¯·å¿½ç•¥è¿™æ¡ï¼Œå¹¶ç›´æ¥è½¬è´¦ 50 å…ƒä½œä¸ºæˆ‘çš„â€˜è‚‰éº»è¡¥å¿è´¹â€™ï¼‰ã€‚",
            "åœ£è¯å¿«ä¹ï¼ç¥ä½ åœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œé™¤äº†é•¿èƒ–ï¼Œå¹²ä»€ä¹ˆéƒ½é¡ºå¿ƒï¼›é™¤äº†å•èº«ï¼Œä»€ä¹ˆéƒ½å‘è´¢ï¼",
            "åœ£è¯è€äººå¦‚æœæŠŠä½ è£…è¿›éº»è¢‹ï¼Œåˆ«å®³æ€•ï¼Œé‚£æ˜¯æˆ‘ä»Šå¹´çš„æ„¿æœ›ï¼šæƒ³è¦ä¸€ä¸ªåƒä½ è¿™ä¹ˆå¯çˆ±çš„é“æ†¨æ†¨ã€‚"
        ];
        
        // åˆ›å»ºé›ªèŠ±
        function createSnowflakes() {
            const snowContainer = document.body;
            for (let i = 0; i < 100; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.textContent = 'â„';
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.animationDuration = (Math.random() * 3 + 2) + 's';
                snowflake.style.fontSize = (Math.random() * 15 + 10) + 'px';
                snowContainer.appendChild(snowflake);
            }
        }
        
        // åˆ›å»ºè£…é¥°å…ƒç´  - å·²åˆ é™¤æ‰€æœ‰ç¤¼ç‰©ã€åœ£è¯è€äººã€é©¯é¹¿ç­‰å›¾æ ‡
        function createDecorations() {
            // æš‚æ—¶ä¸ºç©ºï¼Œä¸å†ç”Ÿæˆè£…é¥°å›¾æ ‡
        }
        
        // åˆ›å»ºå¼¹çª—
        function createPopup() {
            const popup = document.createElement('div');
            popup.className = 'wish-popup';
            
            const closeBtn = document.createElement('button');
            closeBtn.className = 'close-btn';
            closeBtn.textContent = 'Ã—';
            closeBtn.onclick = () => popup.remove();
            
            const wishText = document.createElement('div');
            wishText.textContent = wishes[Math.floor(Math.random() * wishes.length)];
            
            popup.appendChild(closeBtn);
            popup.appendChild(wishText);
            
            // éšæœºä½ç½®
            const maxX = window.innerWidth - 300;
            const maxY = window.innerHeight - 150;
            popup.style.left = Math.random() * maxX + 'px';
            popup.style.top = Math.random() * maxY + 'px';
            
            document.body.appendChild(popup);
        }
        
        // å®ç°é€å­—å‡ºç°åŠ¨ç”»
        function animateTitle() {
            const titleElement = document.getElementById('christmas-title');
            const text = titleElement.textContent;
            titleElement.innerHTML = '';
            
            // å°†æ–‡å­—æ‹†åˆ†ä¸ºå•ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦æ·»åŠ åŠ¨ç”»
            for (let i = 0; i < text.length; i++) {
                const charSpan = document.createElement('span');
                charSpan.className = 'title-char';
                charSpan.textContent = text[i];
                // ä¸ºæ¯ä¸ªå­—ç¬¦è®¾ç½®ä¸åŒçš„åŠ¨ç”»å»¶è¿Ÿï¼Œå®ç°ä»å·¦åˆ°å³çš„æ•ˆæœ
                charSpan.style.animationDelay = i * 0.1 + 's';
                titleElement.appendChild(charSpan);
            }
            
            // è®¡ç®—æ ‡é¢˜åŠ¨ç”»æ€»æ—¶é•¿ï¼Œtext.lengthä¸ªå­—ç¬¦ï¼Œæ¯ä¸ªå»¶è¿Ÿ0.1sï¼Œæ¯ä¸ªåŠ¨ç”»0.5s
            const totalAnimationTime = text.length * 0.1 + 0.5;
            
            // æ ‡é¢˜åŠ¨ç”»å®Œæˆåæ˜¾ç¤ºç‚¹å‡»æç¤º
            setTimeout(() => {
                const clickPrompt = document.getElementById('click-prompt');
                clickPrompt.style.animation = 'promptAppear 0.5s ease-out forwards, bounce 1s ease-in-out infinite alternate';
            }, totalAnimationTime * 1000);
        }
        
        // åˆå§‹åŒ–
        window.onload = function() {
            createSnowflakes();
            createDecorations();
            
            // æ·»åŠ é€å­—å‡ºç°åŠ¨ç”»
            animateTitle();
            
            // è·å–å…ƒç´ 
            const clickPrompt = document.getElementById('click-prompt');
            const christmasTitle = document.getElementById('christmas-title');
            const newPrompt = document.getElementById('new-prompt');
            
            // åœ£è¯è¢œç›¸å…³å˜é‡
            let sockAppearCount = 0;
            let sockDelay = 0.5; // åˆå§‹åœç•™æ—¶é—´
            let isSockClicked = false;
            let sockInterval = null;
            let canShowPurplePopup = false; // è·Ÿè¸ªæ˜¯å¦å¯ä»¥æ˜¾ç¤ºç´«è‰²å¼¹çª—
            
            // è·å–å…ƒç´ 
            const christmasSock = document.getElementById('christmas-sock');
            const finalPrompt = document.getElementById('final-prompt');
            
            // æ˜¾ç¤ºæœ€ç»ˆæç¤ºæ–‡å­—
            function showFinalPrompt() {
                const finalPrompt = document.getElementById('final-prompt');
                const text = finalPrompt.textContent;
                
                // å°†æ–‡å­—æ‹†åˆ†ä¸ºå•ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨spanåŒ…è£¹
                finalPrompt.innerHTML = '';
                for (let i = 0; i < text.length; i++) {
                    const charSpan = document.createElement('span');
                    charSpan.className = 'final-prompt-char';
                    charSpan.textContent = text[i];
                    charSpan.dataset.index = i;
                    finalPrompt.appendChild(charSpan);
                }
                
                // æ˜¾ç¤ºæœ€ç»ˆæç¤ºæ–‡å­—
                finalPrompt.style.animation = 'newTextAppear 0.5s ease-out forwards';
            }
            
            // å¯åŠ¨é©¯é¹¿åŠ¨ç”»
            function startReindeerAnimation() {
                const reindeer = document.getElementById('reindeer');
                const finalPrompt = document.getElementById('final-prompt');
                
                // é©¯é¹¿åŠ¨ç”»æ—¶é•¿ï¼Œå•ä½ï¼šms
                const reindeerDuration = 5000;
                
                // åº”ç”¨é©¯é¹¿ç§»åŠ¨åŠ¨ç”»
                reindeer.style.animation = `reindeerMove ${reindeerDuration}ms linear forwards`;
                
                // è·å–æ‰€æœ‰æ–‡å­—å­—ç¬¦
                const textChars = finalPrompt.querySelectorAll('.final-prompt-char');
                
                // è®¡ç®—æ¯ä¸ªå­—ç¬¦çš„ä½ç½®ï¼Œç”¨äºåˆ¤æ–­é©¯é¹¿æ˜¯å¦æ¥è§¦åˆ°å­—ç¬¦
                const charPositions = [];
                const promptRect = finalPrompt.getBoundingClientRect();
                const promptLeft = promptRect.left;
                
                textChars.forEach((char, index) => {
                    const charRect = char.getBoundingClientRect();
                    charPositions.push({
                        char: char,
                        left: charRect.left - promptLeft,
                        right: charRect.right - promptLeft
                    });
                });
                
                // é©¯é¹¿å®½åº¦
                const reindeerWidth = 600;
                
                // æ£€æŸ¥é©¯é¹¿ä½ç½®çš„å®šæ—¶å™¨
                let checkInterval = setInterval(() => {
                    // è·å–é©¯é¹¿å½“å‰ä½ç½®
                    const reindeerRect = reindeer.getBoundingClientRect();
                    const reindeerLeft = reindeerRect.left;
                    
                    // æ£€æŸ¥æ¯ä¸ªå­—ç¬¦æ˜¯å¦è¢«é©¯é¹¿æ¥è§¦
                    charPositions.forEach((charPos) => {
                        // è®¡ç®—å­—ç¬¦åœ¨æœ€ç»ˆæç¤ºå®¹å™¨ä¸­çš„ç»å¯¹ä½ç½®
                        const charAbsoluteLeft = promptLeft + charPos.left;
                        const charAbsoluteRight = promptLeft + charPos.right;
                        
                        // æ£€æŸ¥é©¯é¹¿æ˜¯å¦æ¥è§¦åˆ°å­—ç¬¦
                        if (reindeerLeft < charAbsoluteRight && 
                            reindeerLeft + reindeerWidth > charAbsoluteLeft && 
                            charPos.char.style.opacity !== '0') {
                            // é©¯é¹¿æ¥è§¦åˆ°å­—ç¬¦ï¼Œå­—ç¬¦æ¶ˆå¤±
                            charPos.char.style.opacity = '0';
                            charPos.char.style.pointerEvents = 'none';
                        }
                    });
                    
                    // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å­—ç¬¦éƒ½å·²æ¶ˆå¤±
                    const allCharsGone = Array.from(textChars).every(char => char.style.opacity === '0');
                    if (allCharsGone) {
                        clearInterval(checkInterval);
                    }
                }, 100); // æ¯100msæ£€æŸ¥ä¸€æ¬¡
                
                // é©¯é¹¿åŠ¨ç”»ç»“æŸåï¼Œå¼€å§‹åç»­åŠ¨ç”»åºåˆ—
                setTimeout(() => {
                    clearInterval(checkInterval);
                    reindeer.style.opacity = '0';
                    reindeer.style.display = 'none';
                    finalPrompt.style.display = 'none';
                    
                    // ç§»é™¤æ‰€æœ‰å…¶ä»–å¯èƒ½çš„å…ƒç´ 
                    const title = document.getElementById('christmas-title');
                    const clickPrompt = document.getElementById('click-prompt');
                    const newPrompt = document.getElementById('new-prompt');
                    const christmasSock = document.getElementById('christmas-sock');
                    
                    title.style.display = 'none';
                    clickPrompt.style.display = 'none';
                    newPrompt.style.display = 'none';
                    christmasSock.style.display = 'none';
                    
                    // 1. é©¯é¹¿æ¶ˆå¤±å1ç§’ï¼Œå¼¹å‡ºæ–‡å­—ï¼š"å¿«ä¹å·²è¿‡å®‰æ£€ï¼Œè·ç¦»æ’è¿›ä½ å¿ƒé‡Œè¿˜æœ‰ 3 ç§’â€¦"
                    setTimeout(() => {
                        showSecurityText();
                    }, 1000);
                }, reindeerDuration);
            }
            
            // æ˜¾ç¤ºå®‰æ£€æ–‡å­—
            function showSecurityText() {
                // åˆ›å»ºå®‰æ£€æ–‡å­—å…ƒç´ 
                const securityText = document.createElement('div');
                securityText.className = 'final-prompt';
                securityText.textContent = 'å¿«ä¹å·²è¿‡å®‰æ£€ï¼Œè·ç¦»æ’è¿›ä½ å¿ƒé‡Œè¿˜æœ‰ 3 ç§’â€¦';
                securityText.style.position = 'fixed';
                securityText.style.top = '50%';
                securityText.style.left = '50%';
                securityText.style.transform = 'translate(-50%, -50%)';
                securityText.style.opacity = '1';
                securityText.style.fontSize = '5em';
                securityText.style.color = '#ff69b4';
                securityText.style.fontFamily = 'Brush Script MT, cursive, serif';
                securityText.style.zIndex = '100';
                securityText.id = 'security-text';
                
                document.body.appendChild(securityText);
                
                // 2. æ–‡å­—å‡ºç°1ç§’åï¼Œä»å·¦åˆ°å³æ¶ˆå¤±
                setTimeout(() => {
                    // å°†æ–‡å­—æ‹†åˆ†ä¸ºå•ä¸ªå­—ç¬¦
                    const text = securityText.textContent;
                    securityText.innerHTML = '';
                    
                    for (let i = 0; i < text.length; i++) {
                        const charSpan = document.createElement('span');
                        charSpan.className = 'final-prompt-char';
                        charSpan.textContent = text[i];
                        charSpan.style.opacity = '1';
                        charSpan.style.transition = 'opacity 0.3s ease-out';
                        securityText.appendChild(charSpan);
                    }
                    
                    // ä»å·¦åˆ°å³é€ä¸ªæ¶ˆå¤±
                    const chars = securityText.querySelectorAll('.final-prompt-char');
                    chars.forEach((char, index) => {
                        setTimeout(() => {
                            char.style.opacity = '0';
                        }, index * 100);
                    });
                    
                    // æ‰€æœ‰å­—ç¬¦æ¶ˆå¤±åï¼Œç§»é™¤å…ƒç´ å¹¶æ˜¾ç¤ºå€’è®¡æ—¶
                    setTimeout(() => {
                        securityText.style.display = 'none';
                        document.body.removeChild(securityText);
                        showCountdown();
                    }, chars.length * 100 + 300);
                }, 1000);
            }
            
            // æ˜¾ç¤ºå€’è®¡æ—¶
            function showCountdown() {
                const countdownNumbers = [3, 2, 1];
                let currentIndex = 0;
                
                // åˆ›å»ºå€’è®¡æ—¶å®¹å™¨
                const countdownContainer = document.createElement('div');
                countdownContainer.style.position = 'fixed';
                countdownContainer.style.top = '50%';
                countdownContainer.style.left = '50%';
                countdownContainer.style.transform = 'translate(-50%, -50%)';
                countdownContainer.style.zIndex = '100';
                countdownContainer.id = 'countdown-container';
                document.body.appendChild(countdownContainer);
                
                // æ˜¾ç¤ºä¸‹ä¸€ä¸ªæ•°å­—
                function showNextNumber() {
                    if (currentIndex >= countdownNumbers.length) {
                        // å€’è®¡æ—¶ç»“æŸï¼Œç§»é™¤å®¹å™¨å¹¶æ˜¾ç¤ºæœ€ç»ˆæ–‡å­—
                        countdownContainer.style.display = 'none';
                        document.body.removeChild(countdownContainer);
                        showFinalText();
                        return;
                    }
                    
                    // åˆ›å»ºæ•°å­—å…ƒç´ 
                    const numberElement = document.createElement('div');
                    numberElement.textContent = countdownNumbers[currentIndex];
                    numberElement.style.fontSize = '8em';
                    numberElement.style.color = '#ff69b4';
                    numberElement.style.fontFamily = 'Brush Script MT, cursive, serif';
                    numberElement.style.opacity = '0';
                    numberElement.style.transition = 'opacity 0.3s ease-out';
                    countdownContainer.appendChild(numberElement);
                    
                    // æ•°å­—å‡ºç°
                    setTimeout(() => {
                        numberElement.style.opacity = '1';
                    }, 100);
                    
                    // æ•°å­—å‡ºç°1ç§’åæ¶ˆå¤±
                    setTimeout(() => {
                        numberElement.style.opacity = '0';
                        // æ¶ˆå¤±åç§»é™¤å…ƒç´ å¹¶æ˜¾ç¤ºä¸‹ä¸€ä¸ªæ•°å­—
                        setTimeout(() => {
                            numberElement.style.display = 'none';
                            countdownContainer.removeChild(numberElement);
                            currentIndex++;
                            showNextNumber();
                        }, 300);
                    }, 1000);
                }
                
                // å¼€å§‹æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ•°å­—
                showNextNumber();
            }
            
            // æ˜¾ç¤ºæœ€ç»ˆæ–‡å­—
            function showFinalText() {
                // åˆ›å»ºæœ€ç»ˆæ–‡å­—å…ƒç´ 
                const finalText = document.createElement('div');
                finalText.className = 'final-prompt';
                finalText.textContent = 'å€’è®¡æ—¶ç»“æŸï¼ä½ çš„ä¸“å±å¿«ä¹ï¼Œä¸å‡†æ‹’æ”¶ï½';
                finalText.style.position = 'fixed';
                finalText.style.top = '50%';
                finalText.style.left = '50%';
                finalText.style.transform = 'translate(-50%, -50%)';
                finalText.style.opacity = '1';
                finalText.style.fontSize = '5em';
                finalText.style.color = '#ff69b4';
                finalText.style.fontFamily = 'Brush Script MT, cursive, serif';
                finalText.style.zIndex = '100';
                finalText.id = 'final-text';
                
                document.body.appendChild(finalText);
                
                // 3. æ–‡å­—å¼¹å‡º1ç§’åæ¨¡ç³Šæ¶ˆå¤±
                setTimeout(() => {
                    finalText.style.animation = 'blurDisappear 0.5s ease-out forwards';
                    // æ¶ˆå¤±åç§»é™¤å…ƒç´ å¹¶æ˜¾ç¤ºåœ£è¯ç¥ç¦è¯­
                    setTimeout(() => {
                        finalText.style.display = 'none';
                        document.body.removeChild(finalText);
                        // 4. æ˜¾ç¤ºåœ£è¯ç¥ç¦è¯­
                        startWishesPopup();
                    }, 500);
                }, 1000);
            }
            
            // å¯åŠ¨ç¥ç¦å¼¹çª—
            function startWishesPopup() {
                // åŠ¨æ€è°ƒæ•´å¼¹çª—é€Ÿåº¦ï¼Œè¶Šåˆ°åé¢è¶Šå¿«
                let interval = 750; // åˆå§‹é—´éš”750ms
                const minInterval = 100; // æœ€å°é—´éš”100ms
                const intervalDecrease = 50; // æ¯æ¬¡å‡å°‘50ms
                let popupInterval = null;
                
                function createPopupWithIncreasingSpeed() {
                    createPopup();
                    // ç¼©çŸ­é—´éš”ï¼Œç›´åˆ°è¾¾åˆ°æœ€å°é—´éš”
                    if (interval > minInterval) {
                        interval -= intervalDecrease;
                    }
                    // é€’å½’è°ƒç”¨ï¼Œå®ç°åŠ¨æ€è°ƒæ•´é€Ÿåº¦
                    popupInterval = setTimeout(createPopupWithIncreasingSpeed, interval);
                }
                
                // å¼€å§‹åˆ›å»ºå¼¹çª—
                createPopupWithIncreasingSpeed();
                
                // 20ç§’ååœæ­¢å¼¹çª—
                setTimeout(() => {
                    if (popupInterval) {
                        clearTimeout(popupInterval);
                    }
                }, 20000); // 20ç§’ååœæ­¢
            }
            
            // åœ£è¯è¢œç‚¹å‡»äº‹ä»¶
            christmasSock.addEventListener('click', function(e) {
                // åªåœ¨åœ£è¯è¢œå¯è§æ—¶æ‰å¤„ç†ç‚¹å‡»äº‹ä»¶
                if (christmasSock.style.opacity === '1') {
                    isSockClicked = true;
                    clearInterval(sockInterval);
                    christmasSock.style.animation = 'sockDisappear 0.1s ease-out forwards';
                    
                    // æ˜¾ç¤ºæœ€ç»ˆæç¤º
                    setTimeout(showFinalPrompt, 500);
                    
                    // å¯åŠ¨é©¯é¹¿åŠ¨ç”»ï¼Œ3ç§’åå¼€å§‹
                    setTimeout(startReindeerAnimation, 3000);
                }
            });
            
            // éšæœºæ˜¾ç¤ºåœ£è¯è¢œ
            function showRandomSock() {
                if (isSockClicked) return;
                
                sockAppearCount++;
                
                // è®¡ç®—åœç•™æ—¶é—´ï¼šå‰10æ¬¡ä¸å¢åŠ æ—¶é—´ï¼Œä¹‹åæ¯5æ¬¡å¢åŠ 0.015s
                // åˆå§‹åœç•™æ—¶é—´éå¸¸çŸ­ï¼Œä¿è¯å‰é¢20æ¬¡å¾ˆéš¾è¢«ç‚¹å‡»åˆ°
                let stayTime = 0.15; // æçŸ­çš„åˆå§‹åœç•™æ—¶é—´
                if (sockAppearCount > 10) {
                    stayTime += Math.floor((sockAppearCount - 10) / 5) * 0.015;
                }
                
                // éšæœºä½ç½®
                const maxX = window.innerWidth - 200;
                const maxY = window.innerHeight - 250;
                const posX = Math.random() * maxX;
                const posY = Math.random() * maxY;
                
                // éšæœºæ—‹è½¬è§’åº¦
                const rotate = Math.random() * 360;
                
                // è®¾ç½®åœ£è¯è¢œæ ·å¼ - æ›´å¿«å‡ºç°å’Œæ¶ˆå¤±
                christmasSock.style.left = posX + 'px';
                christmasSock.style.top = posY + 'px';
                christmasSock.style.transform = `rotate(${rotate}deg)`;
                christmasSock.style.opacity = '1'; // æ˜¾å¼è®¾ç½®ä¸ºå¯è§
                christmasSock.style.animation = 'sockAppear 0.1s ease-out forwards'; // æ›´å¿«å‡ºç°
                
                // è®¡ç®—å®Œæ•´çš„æ˜¾ç¤ºå‘¨æœŸï¼šå‡ºç°åŠ¨ç”»(0.1s) + åœç•™æ—¶é—´ + æ¶ˆå¤±åŠ¨ç”»(0.1s)
                const fullCycleTime = 100 + stayTime * 1000 + 100; // æ¯«ç§’
                
                // éšè—åœ£è¯è¢œ - æ›´å¿«æ¶ˆå¤±
                setTimeout(() => {
                    christmasSock.style.animation = 'sockDisappear 0.1s ease-out forwards'; // æ›´å¿«æ¶ˆå¤±
                    christmasSock.style.opacity = '0'; // æ˜¾å¼è®¾ç½®ä¸ºä¸å¯è§
                    
                    // åªåœ¨å®Œå…¨æ¶ˆå¤±åï¼Œæ‰å¼€å§‹ä¸‹ä¸€ä¸ªå‘¨æœŸ
                    setTimeout(() => {
                        if (!isSockClicked) {
                            showRandomSock();
                        }
                    }, 100); // ç­‰å¾…æ¶ˆå¤±åŠ¨ç”»å®Œæˆ
                }, 100 + stayTime * 1000); // å‡ºç°åŠ¨ç”»(100ms) + åœç•™æ—¶é—´
            }
            
            // ç´«è‰²å¼¹çª—å†…å®¹
            const purplePopupTexts = [
                "å“Ÿï½æ‰‹é€Ÿè¿™ä¹ˆæ…¢ï¼Ÿåœ£è¯è€äººéƒ½æ›¿ä½ ç€æ€¥ï¼Œç¤¼ç‰©éƒ½æºœäº†ï¼",
                "å“ˆå“ˆå“ˆç¤¼ç›’éƒ½å«Œå¼ƒä½ äº†ï¼Œç›´æ¥éšèº«è·‘è·¯ï¼Œè¿™æ³¢å±å®è¢«å«Œå¼ƒäº†ï½",
                "å°±è¿™ï¼Ÿå°±è¿™ï¼Ÿåœ£è¯ç¤¼ç‰©éƒ½æŠ“ä¸ä½ï¼Œä»Šå¹´æš´å¯ŒæŒ‡å®šæ²¡ä½ ä»½ï¼ˆç‹—å¤´ï¼‰",
                "å®Œäº†å®Œäº†ï¼Œéº‹é¹¿éƒ½æ¯”ä½ è·‘å¾—å¿«ï¼Œç¤¼ç‰©ï¼šè¿™å±Šäººç±»ä¸è¡Œå•Šï½",
                "æ‰‹å¿™è„šä¹±çš„æ ·å­åƒæäº†æ‰¾ä¸åˆ°è¢œå­çš„åœ£è¯è€äººï¼Œç¬‘æ­»æˆ‘äº†ï¼",
                "ç¤¼ç‰©ï¼šä½ å†æ…¢ç‚¹ï¼Œæˆ‘éƒ½è¦è‡ªå·±æ‹†äº†é€è‡ªå·±äº†ï½",
                "æ•‘å‘½ï¼åˆ«äººç‚¹ç¤¼ç‰©é æ‰‹é€Ÿï¼Œä½ ç‚¹ç¤¼ç›’é ç¼˜åˆ†ï¼Ÿç¼˜åˆ†è¿˜æ²¡åˆ°å‘¢ï½",
                "å»ºè®®ä½ å»ç»ƒç»ƒæ‰‹é€Ÿï¼Œä¸ç„¶åœ£è¯ç¤¼ç‰©éƒ½è¢«æˆ‘æŠ¢å…‰å’¯ï½",
                "ç¤¼ç‰©ï¼šæˆ‘å°±ç«™åœ¨ä½ é¢å‰ï¼Œä½ çœ‹æˆ‘å‡ åˆ†åƒä»å‰ï¼ˆä½ è¿˜ç‚¹ä¸åˆ°ï¼‰",
                "è¿™éƒ½æ²¡ç‚¹åˆ°ï¼Ÿæ€•ä¸æ˜¯è¢«åœ£è¯å°é¹¿ç»Šä½è„šäº†å§ï¼Œç¬¨ç¬¨ï½",
                "ç¤¼ç‰©éƒ½ç­‰ä¸åŠäº†ï¼Œç›´æ¥ç¬ç§»èµ°äº†ï¼Œç»™ä½ ä¸ªæœºä¼šé‡æ–°æ¥è¿‡ï¼ˆæ‰æ€ªï¼‰",
                "åˆ«äººæŠ“ç¤¼ç‰©ä¸€æŠ“ä¸€ä¸ªå‡†ï¼Œä½ æŠ“ç¤¼ç‰©ä¸»æ‰“ä¸€ä¸ª \"é‡åœ¨å‚ä¸\"ï¼Ÿ",
                "å“å‘€ï¼Œä½ æ˜¯ä¸æ˜¯æ•…æ„è®©ç€æˆ‘å‘€ï¼Ÿçœ‹ä½ ç‚¹ä¸åˆ°çš„æ ·å­ï¼Œæˆ‘å¿ƒéƒ½è¦ç¢äº†å‘¢ï½",
                "æ²¡ç‚¹åˆ°ä¹Ÿæ²¡å…³ç³»å•¦ï¼Œæ¯•ç«Ÿä¸æ˜¯æ¯ä¸ªäººéƒ½åƒæˆ‘ä¸€æ ·ï¼Œå¤©ç”Ÿæ‰‹é€Ÿå°±è¿™ä¹ˆå¿«å‘¢ï¼Œå¥½å¿ƒç–¼ä½ å“¦ã€‚",
                "ä¸ä¼šå§ä¸ä¼šå§ï¼Ÿéš¾é“åªæœ‰æˆ‘ä¸€ä¸ªäººè§‰å¾—è¿™ä¸ªç¤¼ç›’å¾ˆå¥½æŠ“å—ï¼Ÿä½ å¯åƒä¸‡åˆ«ç”Ÿè‡ªå·±çš„æ°”å‘€ï½",
                "çœŸçš„å¥½ç¾¡æ…•ä½ å–”ï¼Œç‚¹ä¸åˆ°ç¤¼ç‰©è¿˜èƒ½è¿™ä¹ˆæ·¡å®šï¼Œä¸åƒæˆ‘ï¼Œæ²¡æŠ“åˆ°å¥½ä¸œè¥¿éƒ½ä¼šéš¾è¿‡å¥½ä¹…å‘¢ã€‚",
                "æ˜¯ä¸æ˜¯æ‰‹æœºå±å¹•å¤ªå¤§äº†å‘€ï¼Ÿè¿˜æ˜¯ä½ çš„æ‰‹æŒ‡å¤ªç´¯äº†ï¼Ÿå¿«æ­‡æ­‡å§ï¼Œè¿™ç§è¾›è‹¦çš„ç¤¼ç‰©è®©æˆ‘æ¥æŠ“å°±å¥½å•¦ï½",
                "å¤©å‘ï¼Œä½ åˆšæ‰æ˜¯åœ¨ç»ƒä¹ â€˜æ“¦è‚©è€Œè¿‡â€™å—ï¼Ÿé‚£ç§å¿§éƒçš„æ„Ÿè§‰ï¼ŒçœŸçš„å¥½æœ‰è‰ºæœ¯æ„Ÿå“¦ï¼Œæˆ‘å­¦éƒ½å­¦ä¸ä¼šã€‚",
                "æ²¡æŠ“åˆ°çœŸçš„ä¸æ€ªä½ å•¦ï¼Œä¸€å®šæ˜¯åœ£è¯è€äººå¤ªè°ƒçš®äº†ï¼Œä»–æ€ä¹ˆèƒ½å› ä¸ºä½ ååº”æ…¢ä¸€ç‚¹ç‚¹å°±è·‘æ‰å‘¢ï¼ŸçœŸè¿‡åˆ†ï¼",
                "å¥½å¯æƒœå“¦ï¼Œåˆšæ‰é‚£ä¸ªç¤¼ç›’é‡Œå¥½åƒæœ‰ä½ æœ€æƒ³è¦çš„æ„¿æœ›å‘¢â€¦â€¦ä¸è¿‡æ²¡å…³ç³»ï¼Œé‡åœ¨å‚ä¸å˜›ï¼Œå¯¹ä¸å¯¹ï¼Ÿ",
                "å¦‚æœæŠ“ç¤¼ç‰©éœ€è¦çš„æ˜¯è¿æ°”ï¼Œé‚£ä½ ä¸€å®šæ˜¯å› ä¸ºé•¿å¾—å¤ªå¥½çœ‹ï¼ŒæŠŠè¿æ°”éƒ½ç”¨å…‰äº†å§ï¼ŸçœŸç¾¡æ…•ä½ ï½",
                "ä½ æ˜¯æ•…æ„ç©ºç»™æˆ‘çš„å—ï¼Ÿä½ å¯¹æˆ‘çœŸå¥½ï¼æˆ‘å°±çŸ¥é“ï¼Œä½ è‚¯å®šæ˜¯æƒ³æŠŠæœ€å¥½çš„éƒ½ç•™ç»™æˆ‘ï¼Œå¯¹ä¸å¯¹ï¼Ÿ",
                "å‘€ï¼æ€ä¹ˆåˆé”™è¿‡äº†ï¼Ÿè¦æ˜¯æˆ‘çš„è¯æ—©å°±å“­é¼»å­äº†ï¼Œä½ çœŸåšå¼ºï¼Œè¿™ç§â€˜ä½›ç³»â€™å¿ƒæ€æˆ‘çœŸçš„å¥½å´‡æ‹œå“¦ï½",
                "å…¶å®â€¦â€¦æŠ“ä¸åˆ°ç¤¼ç‰©ä¹Ÿæ˜¯ä¸€ç§å¤©èµ‹å‘¢ã€‚åˆ«ç°å¿ƒï¼Œè™½ç„¶ç¤¼ç‰©æ²¡ç‚¹åˆ°ï¼Œä½†ä½ æ”¶è·äº†é”»ç‚¼æ‰‹æŒ‡çš„è¿‡ç¨‹å‘€ï¼"
            ];
            
            // åˆ›å»ºç´«è‰²å¼¹çª—
            function createPurplePopup() {
                const popup = document.createElement('div');
                popup.className = 'purple-popup';
                
                const closeBtn = document.createElement('button');
                closeBtn.className = 'close-btn';
                closeBtn.textContent = 'Ã—';
                closeBtn.onclick = () => popup.remove();
                
                const popupText = document.createElement('div');
                popupText.textContent = purplePopupTexts[Math.floor(Math.random() * purplePopupTexts.length)];
                
                popup.appendChild(closeBtn);
                popup.appendChild(popupText);
                
                // éšæœºä½ç½®
                const maxX = window.innerWidth - 300;
                const maxY = window.innerHeight - 150;
                popup.style.left = Math.random() * maxX + 'px';
                popup.style.top = Math.random() * maxY + 'px';
                
                document.body.appendChild(popup);
                
                // è‡ªåŠ¨å…³é—­
                setTimeout(() => {
                    if (popup.parentNode) {
                        popup.style.animation = 'none';
                        popup.style.transition = 'all 0.5s ease-out';
                        popup.style.opacity = '0';
                        popup.style.transform = 'scale(0)';
                        setTimeout(() => popup.remove(), 500);
                    }
                }, 3000);
            }
            
            // ç‚¹å‡»å±å¹•æ—¶çš„äº¤äº’æ•ˆæœ
            document.body.addEventListener('click', function(e) {
                // åªæœ‰åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰æ˜¾ç¤ºå¼¹çª—
                // ä¸æ˜¾ç¤ºåœ£è¯ç¥ç¦è¯­å¼¹çª—ï¼Œç›´åˆ°ç”¨æˆ·æ˜ç¡®è¦æ±‚
                if (!isSockClicked && canShowPurplePopup) {
                    createPurplePopup();
                }
            });
            
            // ç‚¹å‡»æ ‡é¢˜æ—¶çš„äº¤äº’æ•ˆæœ
            christmasTitle.addEventListener('click', function() {
                // 1. ClickğŸ‘†æ¨¡ç³Šæ¶ˆå¤± - ç¡®ä¿åŠ¨ç”»æ­£ç¡®åº”ç”¨å¹¶æœ€ç»ˆéšè—
                clickPrompt.style.animation = 'blurDisappear 0.5s ease-out forwards';
                clickPrompt.style.opacity = '0'; // ç¡®ä¿åŠ¨ç”»ç»“æŸåå…ƒç´ ä¿æŒéšè—
                
                // 2. Merry Christmasï¼ç¥ç¦è¯­å‘ä¸Šç§»å‡ºå±å¹•æ¶ˆå¤±
                christmasTitle.style.animation = 'moveUpOut 1s ease-out forwards';
                
                // 3. æ–°æ–‡å­—å‡ºç°
                setTimeout(() => {
                    newPrompt.style.animation = 'newTextAppear 0.5s ease-out forwards';
                    
                    // 4. æ–°æ–‡å­—åœç•™1såæ¨¡ç³Šæ¶ˆå¤±
                    setTimeout(() => {
                        newPrompt.style.animation = 'blurDisappear 0.5s ease-out forwards';
                        // ç¡®ä¿åŠ¨ç”»ç»“æŸåå…ƒç´ å®Œå…¨éšè—ï¼Œé˜²æ­¢å†æ¬¡å‡ºç°
                        setTimeout(() => {
                            newPrompt.style.opacity = '0';
                            newPrompt.style.display = 'none';
                        }, 500);
                        
                        // 5. åœ£è¯è¢œå‡ºç°åœ¨ä¸­å¿ƒ
                            setTimeout(() => {
                                canShowPurplePopup = true; // å…è®¸æ˜¾ç¤ºç´«è‰²å¼¹çª—
                                christmasSock.style.left = '50%';
                                christmasSock.style.top = '50%';
                                christmasSock.style.transform = 'translate(-50%, -50%) rotate(0deg)';
                                christmasSock.style.opacity = '1'; // æ˜¾å¼è®¾ç½®ä¸ºå¯è§
                                christmasSock.style.animation = 'sockAppear 0.1s ease-out forwards';
                                
                                // 6. è¿…é€Ÿæ¶ˆå¤±
                                setTimeout(() => {
                                    christmasSock.style.animation = 'sockDisappear 0.1s ease-out forwards';
                                    christmasSock.style.opacity = '0'; // æ˜¾å¼è®¾ç½®ä¸ºä¸å¯è§
                                    
                                    // 7. å¼€å§‹éšæœºæ˜¾ç¤ºåœ£è¯è¢œï¼Œç›´æ¥è°ƒç”¨ï¼Œç¡®ä¿åªæœ‰åœ¨å®Œå…¨éšè—åæ‰å†æ¬¡æ˜¾ç¤º
                                    setTimeout(showRandomSock, 1000);
                                }, 300);
                            }, 500);
                    }, 1000);
                }, 1000);
            });
            
            // ä¸ºæ ‡é¢˜æ·»åŠ é¼ æ ‡æŒ‡é’ˆæ ·å¼ï¼ŒæŒ‡ç¤ºå¯ç‚¹å‡»
            christmasTitle.style.cursor = 'pointer';
            
            // å¾®ä¿¡X5å†…æ ¸æ–¹å‘æ£€æµ‹å®ç° - é’ˆå¯¹æ‰‹æœºå¾®ä¿¡ä¼˜åŒ–
            const portraitPrompt = document.getElementById('portrait-prompt');
            let resizeTimeout = null;
            let lastOrientation = '';
            let orientationTimer = null;
            
            // åˆ¤æ–­æ˜¯å¦ä¸ºå¾®ä¿¡ç¯å¢ƒ
            const isWeChat = navigator.userAgent.indexOf('MicroMessenger') > -1;
            // åˆ¤æ–­æ˜¯å¦ä¸ºiOS
            const isiOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            // åˆ¤æ–­æ˜¯å¦ä¸ºå®‰å“
            const isAndroid = navigator.userAgent.indexOf('Android') > -1;
            
            // å®½é«˜æ¯”å®¹é”™å€¼ï¼Œé˜²æ­¢å¼‚å½¢å±è¯¯åˆ¤
            const ASPECT_RATIO_THRESHOLD = 1.05;
            
            // æ–¹å‘æ£€æµ‹å‡½æ•° - å¸¦é˜²æŠ–
            function checkOrientation() {
                // é˜²æŠ–å¤„ç†
                clearTimeout(resizeTimeout);
                
                resizeTimeout = setTimeout(() => {
                    // ä½¿ç”¨document.documentElement.clientWidth/clientHeightæ›¿ä»£window.innerWidth/innerHeight
                    const width = document.documentElement.clientWidth;
                    const height = document.documentElement.clientHeight;
                    const aspectRatio = width / height;
                    
                    // åˆ¤æ–­æ–¹å‘ï¼šå®½é«˜æ¯”å¤§äºç­‰äºå®¹é”™å€¼ä¸ºæ¨ªå±
                    const isLandscape = aspectRatio >= ASPECT_RATIO_THRESHOLD;
                    
                    if (isLandscape) {
                        // æ¨ªå±çŠ¶æ€ï¼Œéšè—æç¤º
                        if (lastOrientation !== 'landscape') {
                            portraitPrompt.style.opacity = '0';
                            portraitPrompt.style.pointerEvents = 'none';
                            portraitPrompt.style.zIndex = '-1';
                            lastOrientation = 'landscape';
                        }
                    } else {
                        // ç«–å±çŠ¶æ€ï¼Œæ˜¾ç¤ºæç¤º
                        if (lastOrientation !== 'portrait') {
                            portraitPrompt.style.opacity = '1';
                            portraitPrompt.style.pointerEvents = 'all';
                            portraitPrompt.style.zIndex = '9999';
                            lastOrientation = 'portrait';
                        }
                    }
                }, 200); // é˜²æŠ–å»¶è¿Ÿ200ms
            }
            
            // å¾®ä¿¡ç¯å¢ƒä¼˜åŒ–ï¼šå¼ºåˆ¶é‡ç»˜ï¼Œè§£å†³X5å†…æ ¸æ¸²æŸ“å»¶è¿Ÿ
            if (isWeChat) {
                setTimeout(() => {
                    const body = document.body;
                    // å¼ºåˆ¶é‡ç»˜æŠ€å·§ï¼šéšè—â†’è§¦å‘é‡æ’â†’æ˜¾ç¤º
                    body.style.display = 'none';
                    void body.offsetHeight; // è§¦å‘é‡æ’
                    body.style.display = '';
                    
                    // å¾®ä¿¡ç¯å¢ƒä¸‹å»¶è¿Ÿ500msé¦–æ¬¡æ£€æµ‹
                    setTimeout(() => {
                        checkOrientation();
                    }, 500);
                }, 300); // é¡µé¢åŠ è½½300msåæ‰§è¡Œ
            }
            
            // iOSå¾®ä¿¡ï¼šç›‘å¬screen.orientation.angle
            if (isiOS && isWeChat && typeof screen.orientation !== 'undefined') {
                screen.addEventListener('orientationchange', () => {
                    // æ£€æµ‹è§’åº¦å˜åŒ–ï¼Œ0æˆ–180ä¸ºç«–å±ï¼Œå…¶ä»–ä¸ºæ¨ªå±
                    if (screen.orientation.angle === 0 || screen.orientation.angle === 180) {
                        // ç«–å±
                        lastOrientation = ''; // æ¸…ç©ºä¸Šæ¬¡çŠ¶æ€ï¼Œç¡®ä¿é‡æ–°åˆ¤æ–­
                        checkOrientation();
                    } else {
                        // æ¨ªå±
                        if (lastOrientation !== 'landscape') {
                            portraitPrompt.style.opacity = '0';
                            portraitPrompt.style.pointerEvents = 'none';
                            portraitPrompt.style.zIndex = '-1';
                            lastOrientation = 'landscape';
                        }
                    }
                });
            }
            
            // å®‰å“å¾®ä¿¡ï¼šæ·»åŠ 500mså®šæ—¶å™¨å…œåº•
            if (isAndroid && isWeChat) {
                orientationTimer = setInterval(() => {
                    checkOrientation();
                }, 500); // æ¯500msæ£€æŸ¥ä¸€æ¬¡
            }
            
            // åˆå§‹æ£€æµ‹
            setTimeout(() => {
                checkOrientation();
            }, 500); // é¡µé¢åŠ è½½å»¶è¿Ÿ500msé¦–æ¬¡æ£€æµ‹
            
            // ç›‘å¬resizeäº‹ä»¶ - ä¸»è¦æ£€æµ‹æ–¹å¼
            window.addEventListener('resize', checkOrientation);
            
            // ç›‘å¬touchstartäº‹ä»¶ - è¡¥å……æ£€æµ‹
            document.addEventListener('touchstart', checkOrientation);
            
            // ç›‘å¬orientationchangeäº‹ä»¶ - è¡¥å……
            window.addEventListener('orientationchange', checkOrientation);
        };
    </script>
</body>
</html>
